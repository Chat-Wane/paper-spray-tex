
\small
\SetKwProg{Function}{function}{}{}
\DontPrintSemicolon
\LinesNumbered

\Function{broadcast ($m$)} { % \hfill \comm{$m: message$}
  \lFor{\textbf{each} $\langle q,\,\_\, \rangle \in\mathcal{P}$}
    {$sendTo(q,\, 'broadcast',\, m)$;}
}

\BlankLine

\Function{receiveBroadcast ($m$)} { % \hfill \comm{$m: message$}
  \If {$\neg alreadyReceived(m)$ \label{line:alreadyreceived}} {
     $deliver(m)$ \;
     $broadcast(m)$ \hfill \Comment{rebroadcast} \;
  }
}

