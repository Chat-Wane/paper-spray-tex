
\small
\SetKwProg{Function}{function}{}{}
\SetKwComment{tcp}{$\triangleright$~}{}
\DontPrintSemicolon
\LinesNumbered

\Function{\textup{broadcast ($m$)} \tcp*[f]{$m$: message}} {
  \lForEach {$\langle q,\,\_\, \rangle \in \mathcal{P}$}
    {sendTo($q$, ``$broadcast$'', $m$)}
}

\BlankLine

\Function{\textup{receiveBroadcast ($m$)} \tcp*[f]{$m$: message}} {
  \If {$\neg$\textup{alreadyReceived($m$)} \label{line:alreadyreceived}} {
     deliver($m$) \;
     broadcast($m$) \tcp*[f]{rebroadcast}
  }
}

