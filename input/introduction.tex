
\section{Introduction}

Peer sampling constitutes a fundamental mechanism for many large-scale
distributed applications both on the
cloud~\cite{decandia2007dynamo} and in a peer-to-peer
setting. Services such as dissemination~\cite{eugster2003lightweight,
  tolgyeski2009adaptive}, aggregation~\cite{jelasity2004epidemic} and
network management~\cite{jelasity2009tman, voulgaris2005epidemic} have
been based on peer sampling and the recent introduction of
WebRTC\footnote{\url{http://www.webrtc.org/}} opens the opportunity to
deploy such applications on web browsers.
% that can run on laptops, desktops and mobile devices.
In this context, WebRTC drastically simplifies deployment even within complex
network systems that utilize firewalls, proxies and Net Address Translation
(NAT).

Unfortunately, WebRTC has several constraints that make existing peer sampling
services inefficient or unreliable. Browsers can run on small devices in
mobile networks. Hence, keeping the number of connections as low as possible is
a major requirement. However, peer sampling services such as
\CYCLON~\cite{voulgaris2005cyclon} do not adapt the number of connections to the
real number of participants. For instance, a user must maintain 10 connections
with other remote browsers when only 6 are enough. It becomes crucial when these
connections are actively used to broadcast messages. On the other hand, the peer
sampling service \SCAMP~\cite{ganesh2003peer} is adaptive but uses random
dissemination paths to establish connections which is much more costly and
likely to fail in WebRTC context. \TODO{what do we want?}

In this paper, we introduce \SPRAY, a random peer sampling protocol inspired by
both \SCAMP~\cite{ganesh2003peer}
and \CYCLON~\cite{voulgaris2005cyclon}. Compared to the state of art,
\begin{inparaenum}[(i)]
\item \SPRAY dynamically adapts the neighborhood of each peer. Thus, the number
  of connections grows logarithmically compared to the size of the network.
\item \SPRAY only uses neighbor-to-neighbor interactions to establish
  connections. Thus, the connections are established in constant time.
\item \SPRAY quickly converges to a topology exposing properties similar to
  those of a random graph. Thus, the network becomes robust to massive
  failures, quickly disseminates information etc.
\item Experiments show the adaptiveness of \SPRAY and highlight its efficiency
  improvement at the cost of little overhead, compared to a representative of
  not adaptive approaches, namely \CYCLON.
\end{inparaenum}

To highlight the improvement brought by \SPRAY we built \CRATE, a real-time
decentralized editor directly running in web
browsers\footnote{\url{http://chat-wane.github.io/CRATE/}}. This real-life use
case shows that \TODO{information dissemination} benefits from the adaptiveness
of \SPRAY. The experiments running on Grid'5000 and involving uptill 600 editors
confirm \TODO{scalability and efficiency}.

\TODO{The rest of this paper is organized as follows: Section~\ref{sec:relatedwork}
reviews the related work. Section~\ref{sec:proposal} details the \SPRAY
protocol. Section~\ref{sec:experiments} shows the properties of \SPRAY and
compares them to state-of-the-art. We conclude and discuss about the perspective
in Section~\ref{sec:conclusion}.}

%%% Local Variables:
%%% mode: latex
%%% TeX-master: "../paper"
%%% End:
