
\section{Introduction}

% Peer sampling constitutes a fundamental mechanism for many large-scale
% distributed applications both on the
% cloud~\cite{decandia2007dynamo} and in a peer-to-peer
% setting. Services such as dissemination~\cite{eugster2003lightweight,
%   tolgyeski2009adaptive}, aggregation~\cite{jelasity2004epidemic} and
% network management~\cite{jelasity2009tman, voulgaris2005epidemic} have
% been based on peer sampling and the recent introduction of
% WebRTC\footnote{\url{http://www.webrtc.org/}} opens the opportunity to
% deploy such applications on web browsers.
% that can run on laptops, desktops and mobile devices.

WebRTC~\cite{webrtc} makes browser-to-browser communication easy even within
complex network environments that involve firewalls, proxies, Net Address
Translation (NAT) and mobile networks. It opens the door to a new generation of
large scale distributed applications that exploit only browser-to-browser
communications. Among the basic building blocks of distributed applications, we
find gossip-based peer sampling protocols such as
\CYCLON~\cite{voulgaris2005cyclon}, which build and maintain reliable overlay
networks in dynamic environments. However, for a same application, networks'
sizes vary between each other and over time. Yet, the lack of flexibility of
sampling approaches forces developpers to make a decision about
dimensioning. Commonly, small networks will end up paying the price of the
largest one.
% This is particurly important in context of WebRTC where a new distributed
% application can be deployed by just sharing a link in twitter; how many
% participants you will get?
The scientific challenge consists in finding a way to adapt to the network size
without actually measuring its number of members.
% The scientific challenge is to be able to adapt to the number of participants
% without measuring how many participants are presents in the system.

%For instance, it
%might require a mobile phone to maintain 10 WebRTC connections with other remote
%browsers when only 6 would be enough. 
%%This yields unnecessary network traffic, particularly when applications employ
%%these connections to broadcast messages.

In this paper, we introduce \SPRAY, a random peer sampling protocol inspired by
both \SCAMP~\cite{ganesh2003peer} and \CYCLON~\cite{voulgaris2005cyclon}. \SPRAY
improves the state-of-the-art in several ways.
\begin{inparaenum}[(i)]
\item It dynamically adapts the neighborhood of each peer. Thus, the
  number of connections scales logarithmically with the network size.
\item It only uses neighbor-to-neighbor interactions to establish
  connections. Thus, the process takes constant time.
\item It quickly converges to a topology with properties similar to
  those of random graphs. Thus, the network becomes robust to massive
  failures, quickly disseminates information etc.
\item Experiments show the flexibility of \SPRAY and highlight its
  efficiency improvement at the cost of little overhead.
\end{inparaenum}

\SPRAY relieves developers of having to foresee the number and range of users of
their distributed applications.  To demonstrate the effectiveness of \SPRAY, we
introduce \CRATE, a real-time decentralized editor directly running in web
browsers, thus on laptops, tablets, or mobile phones. We experiment with \CRATE
by deploying 600 editors on Grid'5000. Our results demonstrate that \SPRAY
significantly reduces network traffic with respect to a standard peer sampling
protocol, and adapts to the editing session size.

The rest of this paper is organized as follows: Section~\ref{sec:relatedwork}
reviews the related work. Section~\ref{sec:proposal} details the \SPRAY
protocol. It also presents experimentation results of \SPRAY and compares them
to state-of-the-art. Section~\ref{sec:use-case} details our experiment with
\CRATE a real-time collaborative editor running in browsers. We conclude in
Section~\ref{sec:conclusion}.

%%% Local Variables:
%%% mode: latex
%%% TeX-master: "../paper"
%%% End:
